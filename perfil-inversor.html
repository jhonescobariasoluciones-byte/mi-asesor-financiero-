<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Perfil de Inversor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .question-card { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-2xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900">Descubre tu Perfil de Inversor</h1>
            <p class="text-slate-600 mt-2">Responde estas preguntas para entender tu tolerancia al riesgo y encontrar la mejor estrategia para ti.</p>
        </header>

        <div id="quiz-container" class="bg-white p-6 rounded-lg shadow-md">
            <!-- Questions will be injected here -->
        </div>

        <div id="result-container" class="hidden text-center bg-white p-8 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold">Tu perfil es:</h2>
            <p id="result-profile" class="text-4xl font-extrabold my-4"></p>
            <p id="result-description" class="text-slate-600 max-w-md mx-auto"></p>
            <button id="apply-profile-btn" class="mt-6 bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-colors">
                Aplicar Perfil y Volver al Diagnóstico →
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const quizContainer = document.getElementById('quiz-container');
            const resultContainer = document.getElementById('result-container');
            const resultProfileEl = document.getElementById('result-profile');
            const resultDescriptionEl = document.getElementById('result-description');
            const applyProfileBtn = document.getElementById('apply-profile-btn');

            const questions = [
                {
                    question: "¿Cuál es tu principal objetivo al invertir?",
                    answers: [
                        { text: "Preservar mi capital, la seguridad es lo más importante.", points: 1 },
                        { text: "Un balance entre crecimiento y seguridad.", points: 2 },
                        { text: "Maximizar el crecimiento, aunque implique mayor riesgo.", points: 3 }
                    ]
                },
                {
                    question: "Imagina que recibes un bono inesperado de $5.000.000. ¿Qué haces primero?",
                    answers: [
                        { text: "Pagar deudas o guardarlo en mi cuenta de ahorros.", points: 1 },
                        { text: "Invertir la mayor parte en algo seguro y usar una pequeña parte para un gusto.", points: 2 },
                        { text: "Invertirlo todo en una oportunidad de alto potencial que he estado siguiendo.", points: 3 }
                    ]
                },
                {
                    question: "Si tu portafolio de inversión cae un 20% en un mes, ¿qué harías?",
                    answers: [
                        { text: "Vendería todo para evitar más pérdidas.", points: 1 },
                        { text: "Mantendría mis inversiones y esperaría a que se recupere.", points: 2 },
                        { text: "Invertiría más, es una gran oportunidad para comprar barato.", points: 3 }
                    ]
                },
                {
                    question: "La palabra 'riesgo' en las inversiones te hace sentir...",
                    answers: [
                        { text: "Ansiedad. Prefiero evitarlo.", points: 1 },
                        { text: "Cautela, pero también curiosidad.", points: 2 },
                        { text: "Emoción. Es parte del juego.", points: 3 }
                    ]
                },
                {
                    question: "¿En cuánto tiempo planeas necesitar el dinero que inviertas?",
                    answers: [
                        { text: "Menos de 3 años.", points: 1 },
                        { text: "Entre 3 y 10 años.", points: 2 },
                        { text: "Más de 10 años.", points: 3 }
                    ]
                },
                {
                    question: "¿Qué prefieres?",
                    answers: [
                        { text: "Una ganancia garantizada del 5% anual.", points: 1 },
                        { text: "Una ganancia promedio del 10% anual, con la posibilidad de perder un 5% en un mal año.", points: 2 },
                        { text: "Una ganancia promedio del 20% anual, con la posibilidad de perder un 15% en un mal año.", points: 3 }
                    ]
                },
                {
                    question: "¿Cuál es tu nivel de conocimiento sobre inversiones?",
                    answers: [
                        { text: "Principiante, estoy empezando a aprender.", points: 1 },
                        { text: "Intermedio, entiendo los conceptos básicos.", points: 2 },
                        { text: "Avanzado, me siento cómodo con temas complejos.", points: 3 }
                    ]
                },
                 {
                    question: "¿Qué porcentaje de tus ingresos mensuales te sentirías cómodo invirtiendo?",
                    answers: [
                        { text: "Menos del 10%", points: 1 },
                        { text: "Entre el 10% y el 25%", points: 2 },
                        { text: "Más del 25%", points: 3 }
                    ]
                }
            ];

            let currentQuestionIndex = 0;
            let score = 0;

            function renderQuestion() {
                if (currentQuestionIndex >= questions.length) {
                    showResult();
                    return;
                }

                const q = questions[currentQuestionIndex];
                quizContainer.innerHTML = `
                    <div class="question-card">
                        <p class="text-lg font-semibold mb-4">(${currentQuestionIndex + 1}/${questions.length}) ${q.question}</p>
                        <div class="space-y-3">
                            ${q.answers.map((ans, index) => `
                                <button data-points="${ans.points}" class="answer-btn block w-full text-left p-4 border rounded-lg hover:bg-indigo-50 transition-colors">
                                    ${ans.text}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;

                document.querySelectorAll('.answer-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        score += parseInt(e.target.dataset.points);
                        currentQuestionIndex++;
                        renderQuestion();
                    });
                });
            }

            function showResult() {
                let profile = '';
                let description = '';
                let colorClass = '';

                if (score <= 13) {
                    profile = 'Conservador';
                    description = 'Valoras la seguridad por encima de todo. Prefieres un crecimiento lento pero seguro, protegiendo tu capital de grandes fluctuaciones.';
                    colorClass = 'text-sky-600';
                } else if (score <= 19) {
                    profile = 'Moderado';
                    description = 'Buscas un equilibrio. Estás dispuesto a asumir un riesgo medido para obtener un mayor crecimiento, pero sin exponer demasiado tu capital.';
                     colorClass = 'text-amber-600';
                } else {
                    profile = 'Agresivo';
                    description = 'Tu objetivo es maximizar el rendimiento. Entiendes que para lograrlo debes asumir mayores riesgos y estás cómodo con la volatilidad del mercado.';
                    colorClass = 'text-red-600';
                }

                resultProfileEl.textContent = profile;
                resultProfileEl.className = `text-4xl font-extrabold my-4 ${colorClass}`;
                resultDescriptionEl.textContent = description;

                quizContainer.classList.add('hidden');
                resultContainer.classList.remove('hidden');
                
                applyProfileBtn.dataset.profile = profile.toLowerCase();
            }
            
            applyProfileBtn.addEventListener('click', (e) => {
                const profile = e.target.dataset.profile;
                localStorage.setItem('investorProfileFromQuiz', profile);
                window.location.href = 'index.html';
            });

            renderQuestion();
        });
    </script>
</body>
</html>
